# 行列式的幾何解釋 (Geometric Interpretation of Determinants)

> 行列式 = 線性變換對體積的縮放因子

## 1. 核心概念

### 行列式的幾何意義

```
|det(A)| = 線性變換 A 對「體積」的縮放因子

2D：det(A) = 平行四邊形的（有號）面積
3D：det(A) = 平行六面體的（有號）體積
```

### 有號體積

```
det(A) > 0：保持定向（右手系→右手系）
det(A) < 0：反轉定向（右手系→左手系）
det(A) = 0：降維（體積變成零）
```

---

## 2. 2D 情況：平行四邊形面積

### 定義

```
向量 a = [a₁, a₂]ᵀ 和 b = [b₁, b₂]ᵀ 形成的平行四邊形

面積 = |det([a | b])| = |a₁b₂ - a₂b₁|
```

### 範例

```
a = [3, 0]ᵀ
b = [1, 2]ᵀ

    [3  1]
A = [0  2]

det(A) = 3×2 - 1×0 = 6

平行四邊形面積 = |6| = 6
```

### 視覺理解

```
    b
   /|
  / |
 /  | 高 = 2
/   |
a ---
底 = 3

面積 = 底 × 高 = 3 × 2 = 6 ✓
```

---

## 3. 3D 情況：平行六面體體積

### 定義

```
向量 a, b, c 形成的平行六面體

體積 = |det([a | b | c])|
```

### 標準量混合積

```
det([a | b | c]) = a · (b × c)

這就是向量的純量三重積（scalar triple product）
```

### 範例

```
a = [1, 0, 0]ᵀ
b = [0, 2, 0]ᵀ
c = [0, 0, 3]ᵀ

det([a | b | c]) = 1 × 2 × 3 = 6

體積 = |6| = 6（長方體 1×2×3）
```

---

## 4. 線性變換的體積縮放

### 定理

```
若 T(x) = Ax 是線性變換，S 是任意區域，則：

體積(T(S)) = |det(A)| × 體積(S)
```

### 例子

```
    [2  0]
A = [0  3]

單位正方形（面積 = 1）
↓ 經過變換
變成 2×3 長方形（面積 = 6）

det(A) = 6 ✓
```

---

## 5. 特殊變換的行列式

### 旋轉矩陣

```
    [cos θ  -sin θ]
R = [sin θ   cos θ]

det(R) = cos²θ + sin²θ = 1

旋轉保持面積！
```

### 反射矩陣

```
    [1   0]
H = [0  -1]（沿 x 軸反射）

det(H) = -1

反射保持面積但反轉定向
```

### 剪切矩陣

```
    [1  k]
S = [0  1]

det(S) = 1

剪切保持面積！
```

### 縮放矩陣

```
    [a  0]
D = [0  b]

det(D) = ab

面積縮放 a × b 倍
```

---

## 6. 定向（Orientation）

### 2D 定向

```
det > 0：逆時針順序保持
det < 0：順時針（定向反轉）
```

### 3D 定向

```
det > 0：右手系保持（拇指指向 a×b，食指方向同 c）
det < 0：變成左手系
```

### 範例

```
順時針交換兩向量：

    [a₁  b₁]       [b₁  a₁]
A = [a₂  b₂]  →  A' = [b₂  a₂]

det(A') = -det(A)（符號改變）
```

---

## 7. 行列式與面積/體積公式

### 三角形面積

```
頂點：P₁(x₁, y₁), P₂(x₂, y₂), P₃(x₃, y₃)

        1  |x₁  y₁  1|
面積 = --- |x₂  y₂  1|
        2  |x₃  y₃  1|

     = (1/2)|x₁(y₂ - y₃) + x₂(y₃ - y₁) + x₃(y₁ - y₂)|
```

### 四面體體積

```
頂點：P₁, P₂, P₃, P₄

        1  |x₁  y₁  z₁  1|
體積 = --- |x₂  y₂  z₂  1|
        6  |x₃  y₃  z₃  1|
           |x₄  y₄  z₄  1|
```

---

## 8. 雅可比行列式（Jacobian）

### 定義

```
變數替換 (u, v) → (x, y)
x = x(u, v), y = y(u, v)

        |∂x/∂u  ∂x/∂v|
J = det |              |
        |∂y/∂u  ∂y/∂v|
```

### 積分換元

```
∬f(x,y) dx dy = ∬f(x(u,v), y(u,v)) |J| du dv
```

### 極座標例子

```
x = r cos θ
y = r sin θ

    |∂x/∂r  ∂x/∂θ|   |cos θ  -r sin θ|
J = |              | = |                | = r
    |∂y/∂r  ∂y/∂θ|   |sin θ   r cos θ|

所以 dx dy = r dr dθ
```

---

## 9. 程式實作

### 本單元程式示範

| 檔案 | 內容 |
|------|------|
| `geometric_manual.py` | 手刻幾何計算 |
| `geometric_numpy.py` | NumPy 視覺化 |

---

## 10. 考試重點

### 常見題型

1. **計算平行四邊形/平行六面體體積**
2. **判斷線性變換是否保持定向**
3. **計算三角形面積**
4. **雅可比行列式換元**

### 必背公式

```
平行四邊形面積 = |det([a | b])|
平行六面體體積 = |det([a | b | c])|
三角形面積 = (1/2)|det(...)|

旋轉：det = 1
反射：det = -1
```

### 幾何直覺

```
|det| = 體積縮放因子
sign(det) = 定向保持/反轉
det = 0 → 降維（面積/體積為零）
```

---

## 參考資料

- Strang, Chapter 5.1: Area, Volume, and Cross Product
- Lay, Chapter 3.3: Volume and Linear Transformations
