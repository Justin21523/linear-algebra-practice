# 矩陣運算 (Matrix Operations)

> 矩陣的基本運算：加法、減法、純量乘法與轉置

## 1. 什麼是矩陣？(What is a Matrix?)

### 定義

**矩陣 (Matrix)** 是一個由數字排列成的矩形陣列。

一個 m×n 矩陣有 m 列 (rows) 和 n 行 (columns)：

```
        n columns
       ←────────→
    ┌              ┐
    │ a₁₁ a₁₂ a₁₃ │  ↑
A = │ a₂₁ a₂₂ a₂₃ │  │ m rows
    │ a₃₁ a₃₂ a₃₃ │  ↓
    └              ┘

A 是一個 3×3 矩陣
元素 aᵢⱼ 位於第 i 列、第 j 行
```

### 記號慣例

- **大寫字母**表示矩陣：A, B, C
- **小寫字母加下標**表示元素：aᵢⱼ
- A ∈ ℝᵐˣⁿ 表示 A 是 m×n 的實數矩陣

### 向量是特殊的矩陣

```
列向量 (Column vector)：m×1 矩陣
    [v₁]
v = [v₂]   ← 3×1 矩陣
    [v₃]

行向量 (Row vector)：1×n 矩陣
v = [v₁  v₂  v₃]  ← 1×3 矩陣
```

---

## 2. 矩陣加法與減法 (Matrix Addition and Subtraction)

### 定義

兩個**相同大小**的矩陣，對應元素相加/相減：

```
[a₁₁ a₁₂]   [b₁₁ b₁₂]   [a₁₁+b₁₁  a₁₂+b₁₂]
[a₂₁ a₂₂] + [b₂₁ b₂₂] = [a₂₁+b₂₁  a₂₂+b₂₂]
```

### 範例

```
[1  2]   [5  6]   [1+5  2+6]   [6   8]
[3  4] + [7  8] = [3+7  4+8] = [10  12]
```

### 性質

1. **交換律** (Commutative): A + B = B + A
2. **結合律** (Associative): (A + B) + C = A + (B + C)
3. **零矩陣** (Zero matrix): A + O = A
4. **反矩陣** (Additive inverse): A + (-A) = O

### 注意事項

- 只有**相同大小**的矩陣才能相加
- 2×3 矩陣不能和 3×2 矩陣相加

---

## 3. 純量乘法 (Scalar Multiplication)

### 定義

純量乘以矩陣，每個元素都乘以該純量：

```
      [a₁₁ a₁₂]   [c·a₁₁  c·a₁₂]
c ·   [a₂₁ a₂₂] = [c·a₂₁  c·a₂₂]
```

### 範例

```
    [1  2]   [2   4]
2 · [3  4] = [6   8]
```

### 性質

1. **分配律** (Distributive): c(A + B) = cA + cB
2. **分配律**: (c + d)A = cA + dA
3. **結合律**: c(dA) = (cd)A
4. **單位元**: 1·A = A

---

## 4. 轉置 (Transpose)

### 定義

矩陣的**轉置** Aᵀ 是將列和行互換：

```
(Aᵀ)ᵢⱼ = Aⱼᵢ
```

### 範例

```
    [1  2  3]         [1  4]
A = [4  5  6]    Aᵀ = [2  5]
                      [3  6]

2×3 矩陣的轉置是 3×2 矩陣
```

### 幾何意義

轉置相當於沿著主對角線「翻轉」矩陣。

```
原矩陣 A:          轉置 Aᵀ:
┌─────────┐       ┌─────┐
│ 1  2  3 │       │ 1 4 │
│ 4  5  6 │  ──→  │ 2 5 │
└─────────┘       │ 3 6 │
                  └─────┘
```

### 重要性質

| 性質 | 公式 |
|------|------|
| 雙重轉置 | (Aᵀ)ᵀ = A |
| 加法 | (A + B)ᵀ = Aᵀ + Bᵀ |
| 純量乘法 | (cA)ᵀ = cAᵀ |
| **乘法** | **(AB)ᵀ = BᵀAᵀ** ← 注意順序反轉！ |

### (AB)ᵀ = BᵀAᵀ 的直覺理解

就像「穿脫衣服」：
- 穿衣服：先穿內衣 A，再穿外套 B → AB
- 脫衣服：先脫外套 B，再脫內衣 A → BᵀAᵀ

---

## 5. 對稱矩陣 (Symmetric Matrix)

### 定義

若 Aᵀ = A，則 A 是**對稱矩陣**。

### 條件

- 必須是**方陣** (square matrix)
- 元素關於主對角線對稱：aᵢⱼ = aⱼᵢ

### 範例

```
    [1  2  3]
A = [2  5  6]   ← 對稱矩陣
    [3  6  9]

a₁₂ = a₂₁ = 2
a₁₃ = a₃₁ = 3
a₂₃ = a₃₂ = 6
```

### 重要性

對稱矩陣在線性代數中特別重要：
- 特徵值都是**實數**
- 特徵向量可以選成**互相正交**
- 一定可以**對角化**

常見的對稱矩陣：
- 共變異數矩陣 (Covariance matrix)
- 圖的鄰接矩陣 (Adjacency matrix of undirected graphs)
- AᵀA（任何矩陣 A）

---

## 6. 矩陣的列與行 (Rows and Columns)

### 列向量 vs 行向量

```
       [a₁₁  a₁₂  a₁₃]   ← 第 1 列 (row 1)
   A = [a₂₁  a₂₂  a₂₃]   ← 第 2 列 (row 2)
        ↑    ↑    ↑
       col  col  col
        1    2    3
```

### 取出列和行

```python
# Python/NumPy
row_1 = A[0, :]     # 第 1 列（全部行）
col_2 = A[:, 1]     # 第 2 行（全部列）
```

### 觀點：矩陣是列向量的堆疊

```
    [─── r₁ ───]
A = [─── r₂ ───]   ← 把多個列向量疊起來
    [─── r₃ ───]
```

### 觀點：矩陣是行向量的並排

```
A = [  |     |     |  ]
    [ c₁   c₂   c₃  ]   ← 把多個行向量排在一起
    [  |     |     |  ]
```

這兩種觀點在理解矩陣乘法時非常重要！

---

## 7. 程式實作重點

### 本單元程式示範

| 檔案 | 內容 |
|------|------|
| `matrix_operations_manual.py` | 手刻矩陣運算 |
| `matrix_operations_numpy.py` | NumPy 矩陣運算 |
| `matrix_operations.cpp` | C++ 實作 |

### 實作功能

1. 矩陣建立與印出
2. 矩陣加法、減法
3. 純量乘法
4. 矩陣轉置
5. 對稱性檢查
6. 列/行提取

---

## 8. 考試重點

### 常見題型

1. **計算題**：矩陣加減、轉置
2. **性質題**：證明 (AB)ᵀ = BᵀAᵀ
3. **對稱矩陣**：判斷是否對稱、構造對稱矩陣

### 關鍵公式

```
(Aᵀ)ᵀ = A
(A + B)ᵀ = Aᵀ + Bᵀ
(cA)ᵀ = cAᵀ
(AB)ᵀ = BᵀAᵀ         ← 最重要！
```

### 常見錯誤

- 混淆列 (row) 和行 (column)
- 忘記 (AB)ᵀ 的順序要反轉
- 不同大小的矩陣相加

---

## 參考資料

- Strang, Chapter 1.3
- MIT 18.06 Lecture 2
