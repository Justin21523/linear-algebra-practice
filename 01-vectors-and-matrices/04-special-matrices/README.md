# 特殊矩陣 (Special Matrices)

> 認識線性代數中常見的特殊矩陣及其性質

## 為什麼要學特殊矩陣？

特殊矩陣具有優良的性質，可以：
- **簡化計算**：對角矩陣的運算特別快
- **節省空間**：稀疏矩陣只存非零元素
- **保證性質**：對稱矩陣有實特徵值、正交特徵向量

---

## 1. 單位矩陣 (Identity Matrix)

### 定義

**單位矩陣 I** 是對角線為 1、其他為 0 的方陣：

```
     [1  0  0]
I₃ = [0  1  0]
     [0  0  1]
```

### 性質

- **乘法單位元**：AI = IA = A
- 對於任何向量：Ix = x
- 相當於「什麼都不做」的變換

### 記號

- I 或 Iₙ（n×n 單位矩陣）
- 有時寫作 E（歐洲傳統）

---

## 2. 零矩陣 (Zero Matrix)

### 定義

所有元素都是 0 的矩陣：

```
     [0  0  0]
O₂ₓ₃=[0  0  0]
```

### 性質

- **加法單位元**：A + O = A
- AO = OB = O（任意大小相容）
- **注意**：AB = O 不代表 A = O 或 B = O！

---

## 3. 對角矩陣 (Diagonal Matrix)

### 定義

只有主對角線上有非零元素：

```
     [d₁  0   0 ]
D =  [0   d₂  0 ]
     [0   0   d₃]
```

記作 D = diag(d₁, d₂, d₃)

### 運算優勢

```
對角矩陣相乘：diag(a,b) × diag(c,d) = diag(ac, bd)
對角矩陣的冪：D^n = diag(d₁ⁿ, d₂ⁿ, ..., dₖⁿ)
對角矩陣的逆：D⁻¹ = diag(1/d₁, 1/d₂, ..., 1/dₖ)
```

### 應用

- **對角化**：A = PDP⁻¹
- **特徵值分解**：對角矩陣存放特徵值

---

## 4. 對稱矩陣 (Symmetric Matrix)

### 定義

Aᵀ = A，即 aᵢⱼ = aⱼᵢ

```
    [1  2  3]
S = [2  5  6]  ← 沿主對角線對稱
    [3  6  9]
```

### 重要性質

1. **特徵值都是實數**
2. **特徵向量互相正交**（可選成正交基底）
3. **一定可以對角化**：A = QDQᵀ（Q 是正交矩陣）
4. **譜定理** (Spectral Theorem)

### 常見的對稱矩陣

- **共變異數矩陣** (Covariance matrix)
- **AᵀA** 和 **AAᵀ**（任意矩陣 A）
- **距離矩陣**、**相似度矩陣**

---

## 5. 三角矩陣 (Triangular Matrix)

### 上三角矩陣 (Upper Triangular)

對角線以下都是 0：

```
    [a  b  c]
U = [0  d  e]
    [0  0  f]
```

### 下三角矩陣 (Lower Triangular)

對角線以上都是 0：

```
    [a  0  0]
L = [b  c  0]
    [d  e  f]
```

### 性質

- **行列式** = 對角線元素的乘積
- 上三角 × 上三角 = 上三角
- 下三角 × 下三角 = 下三角
- **LU 分解**的基礎

### 應用

- 高斯消去法產生上三角矩陣
- 解三角系統只需 O(n²)（而非 O(n³)）

---

## 6. 正交矩陣 (Orthogonal Matrix)

### 定義

QᵀQ = QQᵀ = I，即 Q⁻¹ = Qᵀ

### 等價條件

- Q 的各行是**單位正交向量**（orthonormal）
- Q 的各列也是單位正交向量

### 性質

- **保持長度**：‖Qx‖ = ‖x‖
- **保持角度**：(Qx)·(Qy) = x·y
- **行列式** = ±1

### 幾何意義

正交矩陣代表**旋轉**（det = 1）或**鏡射**（det = -1）

### 範例：旋轉矩陣

```
         [cos θ  -sin θ]
R(θ) =   [sin θ   cos θ]

RᵀR = I ✓
```

---

## 7. 稀疏矩陣 (Sparse Matrix)

### 定義

大部分元素為 0 的矩陣。

### 儲存方式

不存所有元素，只存非零元素的位置和值：

```
CSR (Compressed Sparse Row)
COO (Coordinate format)
CSC (Compressed Sparse Column)
```

### 應用

- **圖的鄰接矩陣**：n 個節點、m 條邊，只需 O(m) 空間
- **自然語言處理**：詞-文件矩陣
- **推薦系統**：用戶-物品評分矩陣
- **有限元素法**：大型工程模擬

### 效能

```
稀疏矩陣乘法：O(非零元素數)，遠小於 O(n²)
稀疏矩陣求解：特殊演算法（如共軛梯度法）
```

---

## 8. 其他重要矩陣

### 置換矩陣 (Permutation Matrix)

每列每行恰有一個 1，其餘為 0。作用是重新排列向量/矩陣的行或列。

```
    [0  1  0]        [x₂]
P = [0  0  1]   Px = [x₃]
    [1  0  0]        [x₁]
```

### 冪等矩陣 (Idempotent Matrix)

P² = P

常見例子：投影矩陣

### 冪零矩陣 (Nilpotent Matrix)

存在正整數 k 使得 Nᵏ = O

```
    [0  1  0]        [0  0  1]      [0  0  0]
N = [0  0  1]   N² = [0  0  0]  N³ =[0  0  0]
    [0  0  0]        [0  0  0]      [0  0  0]
```

### Toeplitz 矩陣

每條對角線上的元素相同：

```
    [a  b  c]
T = [d  a  b]
    [e  d  a]
```

應用於**信號處理**（卷積運算）

---

## 9. 程式實作

### 本單元程式示範

| 檔案 | 內容 |
|------|------|
| `special_matrices.py` | 各種特殊矩陣的建立與性質驗證 |
| `sparse_matrix_demo.py` | 稀疏矩陣的應用示範 |

### NumPy 建立特殊矩陣

```python
import numpy as np

np.eye(3)              # 單位矩陣
np.zeros((2, 3))       # 零矩陣
np.diag([1, 2, 3])     # 對角矩陣
np.triu(A)             # 上三角
np.tril(A)             # 下三角
```

---

## 10. 考試重點

### 常見題型

1. 判斷矩陣類型（對稱、正交、對角...）
2. 計算特殊矩陣的逆、冪次、行列式
3. 證明性質（如正交矩陣保持長度）

### 關鍵性質速查

| 矩陣類型 | 關鍵性質 |
|---------|---------|
| 單位矩陣 | AI = IA = A |
| 對角矩陣 | Dⁿ 簡單計算、D⁻¹ = diag(1/dᵢ) |
| 對稱矩陣 | 實特徵值、正交特徵向量 |
| 三角矩陣 | det = 對角線乘積 |
| 正交矩陣 | Q⁻¹ = Qᵀ、保持長度 |

---

## 參考資料

- Strang, Chapter 2.4-2.5
- MIT 18.06 Lecture 4-5
